function removeFromFavorite(a,b){var c="/api/favorites/"+a+"/commodities/"+b+" ";$["delete"](c,function(a){$("#"+b).animate({width:"0"},function(){$("#"+b).remove()})})}function edited(){var a=$(".remove-favorite"),b=$("#edited-favorite-bt"),c=$(".favorites-name-input"),d=c.val(),e=$(".mt-remove-folder");b.click(function(){a.toggle(),"默认"!==d?e.toggle():$("#remove-all-favorite").css("display","none"),b.hasClass("edited")?(b.text("完成").removeClass("edited"),"默认"!==d&&c.removeAttr("readonly").css({border:"1px #ebebeb solid",webkitBoxShadow:"none",boxShadow:"none"})):(b.text("编辑").addClass("edited"),c.attr("readonly","readonly").css({border:"none"}),updateFavoriteName(c.val()))})}function updateFavoriteName(a){var b=url(-1,window.location.href),c="/api/favorites/"+b+"/name";"默认"!==a?$.post(c,{name:a},function(a){}):($("#edited-favorite-bt").click(),alertAutoHideMessage("默认收藏夹只能有一个哦~"))}function isOpenChange(){var a,b=url(-1,window.location.href),c="/api/favorites/"+b+"/isOpen",d=$(".mt-switch"),e=$(".is-public-input");d.change(function(){d.attr("checked")?(d.removeAttr("checked"),e.val("仅自己可见"),a=!1):(d.attr("checked","checked"),e.val("所有人可见"),a=!0),$.post(c,{isOpen:a})})}function deleteFavorite(a){alertConfirm("提示","确定要删除这个收藏夹吗? ",MOODs.blackline,"删除",function(){var b="/api/favorites/"+a;$["delete"](b,function(a){a.error||window.history.back()})})}$(document).ready(function(){showReturnArrow("/user");$(".sliding-button").width;$(".sliding-button").click(function(){$(".sliding-button-block").css("margin-left","50%")}),edited(),isOpenChange()});